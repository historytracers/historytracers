var lastTreeLoaded,personNameMap,familyMap,contentMap,primarySourceMap,refSourceMap,holyRefSourceMap,smSourceMap,genealogicalStats,smGame,smGameTimeoutID,htAtlas,loadedIdx,htHistoryIdx,htLiteratureIdx,htFirstStepsIdx,htMathGamesIdx,htIndigenousWhoIdx,htMythsBelievesIdx,htHistoricalEventsIdx,htBiologyIdx,htChemicalIdx,htPhysicsIdx,htFamilyIdx,extLatexIdx,htGameImages,htGameImagesLocation,htSequenceGame,htSequenceGameLocation,htEditable,stringConstructor="HT".constructor,vectorConstructor=[].constructor,objectConstructor={}.constructor;let keywords=[],mathKeywords=[];lastTreeLoaded={page:null,arg:""},personNameMap=new Map,familyMap=new Map,contentMap=new Map,primarySourceMap=new Map,refSourceMap=new Map,holyRefSourceMap=new Map,smSourceMap=new Map,genealogicalStats={},smGame=[],smGameTimeoutID=0,htAtlas=new Map,loadedIdx=[],htHistoryIdx=new Map,htLiteratureIdx=new Map,htHistoryIdx=new Map,htFirstStepsIdx=new Map,htMathGamesIdx=new Map,htIndigenousWhoIdx=new Map,htMythsBelievesIdx=new Map,htHistoricalEventsIdx=new Map,htBiologyIdx=new Map,htChemicalIdx=new Map,htPhysicsIdx=new Map,htFamilyIdx=new Map,extLatexIdx=0,htGameImages=["MachuPicchu/MachuPicchu.jpg","Xunantunich/WitzXunantunich.jpg","Teotihuacan/TeotihuacanGeneral.jpg","Teotihuacan/TeotihuacanMountains.jpg","Caral/CaralPiramideH1.jpg","Cuzco/PachacutiCuzco.jpg","CahalPech/CahalPechPyramid.jpg","Caracol/CaracolWitz.jpg","JoyaCeren/JoyaCeren.jpg","SanAndres/SanAndresPyramid.jpg","Tikal/NecropoleTikal.jpg","Tula/CiudadTula.jpg","PeruPucllana/Huaca.jpg","MiPueblito/MiPueblito.jpg","Copan/CopanAltarGenealogy0.jpg","Copan/CopanAltarGenealogy1.jpg","Copan/CopanAltarGenealogy2.jpg","Copan/CopanAltarGenealogy3.jpg","Copan/StelaACopan.jpg","Copan/CopanWholeTextStelaAltar.png","GuatemalaKaminaljuyu/Kaminaljuyu.jpg"],htGameImagesLocation=["Machu Picchu, Perú","Xunantunich, Belieze","Teotihuacan, México","Caral, Perú","Cusco, Perú","Cahal Pech, Belieze","Caracol, Belieze","Joya de Ceren, El Salvador","San Andres, El Salvador","Tikal, Guatemala","Ciudad de Tula, México","Huaca Puclana, Perú","Mi Pueblito, Panamá","Copan, Honduras","Copan, Honduras","Copan, Honduras","Copan, Honduras","Teotihuacan, México","Copan, Honduras","Copan, Honduras","Kaminaljuyu, Guatemala"],htSequenceGame=["AntopologyPeru/CeramicaAntropologiaPeru.jpg","CahalPech/ChocolatPot.jpg","GuatemalaAntropologia/EstelaAntropologiaGuatemala.jpg","GuatemalaKaminaljuyu/Kaminaljuyu.jpg","SanJoseCRJade/MayaCRJade.jpg","Teotihuacan/MetateTeotihuacan.jpg","SanJoseCRMuseo/SanJoseCRAntropologia.jpg","ElSalvadorMuseo/SanSalvadorESAntropologia.jpg","Copan/StelaACopan.jpg","SanJoseCRMuseo/MusicCR.jpg"],htSequenceGameLocation=["Lima, Peru","Cahal Pech, Belize","Ciudad de Guatemala, Guatemala","Kaminaljuyu - Ciudad de Guatemala, Guatemala","San Jose, Costa Rica","Teotihuacan, Mexico","San Jose, Costa Rica","San Salvador, El Salvador","Copan, Honduras","San Jose, Costa Rica"],htEditable=void 0;function htEnableEdition(){htEditable&&$(".htEditor").each(function(){$(this).css("visibility","visible")})}function htScroolToID(e){$("html, body").scrollTop($(e).offset().top)}function htScroolTree(e){var t=$(e).val();t!=null&&$("html, body").scrollTop($(e).offset().top)}function htImageZoom(e,t){var s,n=$("#"+e),o=n.hasClass("zoomed");o?n.css("transform","scale(1) translate(0, 0)"):(s=window.innerWidth<800?1.5:2,n.css("transform","scale("+s+") translate("+t+")")),n.toggleClass("zoomed")}function htCleanSources(){$("#tree-source").html(""),$("#tree-ref").html(""),$("#tree-holy-ref").html(""),$("#tree-sm-ref").html("")}function htResetGenealogicalStats(){return{primary_src:0,reference_src:0,holy_src:0,social_media_src:0,families:0,people:0,marriages:0,children:0}}function htResetAllIndexes(){loadedIdx=[];const e=[htHistoryIdx,htLiteratureIdx,htHistoryIdx,htFirstStepsIdx,htMathGamesIdx,htFamilyIdx,htIndigenousWhoIdx,htMythsBelievesIdx,htHistoricalEventsIdx,htBiologyIdx,htChemicalIdx,htPhysicsIdx];e.forEach(e=>{e&&typeof e.clear=="function"&&e.clear()})}function htResetAnswers(e){if(!Array.isArray(e))return;const t=e.length;for(let e=0;e<t;e++){const n=e;$(`#answer${n}`).text(""),$(`input[name="exercise${n}"]`).prop("checked",!1),$(`#explanation${n}`).css({display:"none",visibility:"hidden"})}}function htAddTreeReflection(e,t){const n=$(e);if(n.length===0||!Array.isArray(keywords))return;t>=0&&t<keywords.length&&n.html(keywords[t])}function htAddReligionReflection(e){const t=69;if(!e||typeof e!="string")return;const n=$(e);if(n.length===0||!Array.isArray(keywords))return;if(keywords.length<=t)return;try{n.html(keywords[t])}catch(e){console.error("Failed to set reflection content:",e)}}function htAddPaperDivs(e,t,n,s,o,i){var a=s+'<div id="paper-';a+=t??i,a+='">',a+=n,a+="</div>"+o,$(e).append(a)}function htFillSourceContentToPrint(e,t,n){if(t.size==0||e.size==0)return e;var s="";t.forEach((e)=>{var n,i,a,o="";e.date!=void 0&&e.date!=null&&e.date.length>0?(n=e.date.split("-"),o=htFillHTDate(n)):e.date_time!=void 0&&e.date_time!=null&&e.date_time.length>0&&(n=e.date_time.split("-"),o=htFillHTDate(n)),i=e.url!=void 0&&e.url!=null&&e.url.length>0?i=keywords[23]+"  "+e.url:"",a=". [ "+keywords[22]+" "+o+" ].",s+="<p>"+e.citation+" "+a+" "+i+"</p>"});const o=`<div id="${n}" class="cited-text">${s}</div>`;return e.replace(`<div id="${n}" class="cited-text"></div>`,o)}function htPrintContent(e,t){try{if(!e||!t)throw new Error("Header and body selectors are required");const o=$(e),i=$(t),a=$(".right-sources");if(!o.length||!i.length||!a.length)throw new Error("Required elements not found in the DOM");const r=o.html(),c=i.html();let s=a.html();const l=[{map:primarySourceMap,id:"tree-source"},{map:refSourceMap,id:"tree-ref"},{map:holyRefSourceMap,id:"tree-holy-ref"},{map:smSourceMap,id:"tree-sm-ref"}];l.forEach(({map:e,id:t})=>{s=htFillSourceContentToPrint(s,e,t)});const d=`
<!DOCTYPE html>
<html>
<head>
    <title>Print Document</title>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        .cited-text {
            margin-top: 30px;
            border-top: 1px solid #ccc;
            padding-top: 15px;
        }
        @media print {
            body { margin: 0; }
        }
    </style>
</head>
<body>
    <h1>${r}</h1>
    <div>${c}</div>
    <div class="cited-text">${s}</div>
</body>
</html>`,n=window.open("","PRINT","height=600,width=800");if(!n)throw new Error("Popup blocked. Please allow popups for this site.");n.document.write(d),n.document.close(),n.onload=function(){n.focus(),setTimeout(()=>{n.print()},250)}}catch(e){console.error("Printing failed:",e),alert("Printing failed: "+e.message)}}function htShowDateRef(){var e='John Walker - Fourmilab . [ Accessed on Apr 26, 2024 ]. Retrieved from <a href="https://www.fourmilab.ch/documents/calendar/" target="_blank">https://www.fourmilab.ch/documents/calendar/</a>';$("#tree-ref").html(e)}function htUpdateCurrentDateOnIndex(){var e=Math.floor(Date.now()/1e3),t=$("#site_language").val(),n=$("#site_calendar").val(),s=htConvertDate(n,t,e,void 0,void 0);$("#current_day").html(keywords[42]+" "+s+' <sup><a href="#" onclick="htCleanSources(); htShowDateRef();  return false;">Walker, J.</a></sup>')}function htAdjustGregorianZeroYear(e){if(typeof e!="string"||!e.trim())return e||"";const t=e.trim().split(/\s+/);return t.length<=1?"0":(t[t.length-1]="0",t.join(" "))}function htConvertDate(e,t,n,s,o){if(!e||!t)return console.error("Missing required parameters: calendarType and locale"),"";var i,a,c,d,h,m,f,p,g,l=void 0,u=void 0,r=void 0;if(n!=null)u=parseInt(n),l=new Date(0),r=calcUnixTime(u);else if(s!=null)u=parseInt(s),r=calcJulian(s),l=new Date(r[0],r[1],r[2]);else if(o!=null)u=gregorian_to_jd(o[0],o[1],o[2]),r=calcJulian(u),l=new Date(o[0],o[1]-1,o[2],0,0,0),l.setFullYear(o[0],o[1]-1,o[2]);else return;switch(l.toLocaleString(t,{timeZone:"UTC"}),d=gregorian_to_jd(r[0],r[1],r[2]),i="",m=" "+keywords[43],a=0,e){case"gregory":case"hebrew":case"islamic":case"persian":break;case"julian":return i=d+" "+keywords[41],i;case"emesoamerican":a=jd_to_extended_mayan_count(d);case"mesoamerican":return a==0&&(a=jd_to_mayan_count(d)),f=jd_to_mayan_haab(d),p=jd_to_mayan_tzolkin(d),i=a[0]+"."+a[1]+"."+a[2]+"."+a[3]+"."+a[4]+"."+a[5]+"."+a[6]+"."+a[7]+" ( Haab: "+f[1]+" "+MAYAN_HAAB_MONTHS[f[0]-1]+", Tzolkin: "+p[1]+" "+MAYAN_TZOLKIN_MONTHS[p[0]-1]+" )",i;case"french":return c=jd_to_french_revolutionary(d),m=c[0]<0?Math.abs(c[0])+" "+keywords[43]:c[0],i="Année "+m+" Mois "+frMonth[c[1]-1]+" Décade "+frDecade[c[2]-1]+" Jour "+frDay[c[1]<=12?c[3]:c[3]+11],i;case"shaka":return h=jd_to_indian_civil(d),m=h[0]<0?Math.abs(h[0])+" "+keywords[43]:h[0],i=h[2]+"."+indianMonths[h[1]-1]+"."+m,i;case"hispanic":u+=1199188800;default:e="gregory";break}return n!=null&&l.setUTCSeconds(u),i=new Intl.DateTimeFormat(t,{dateStyle:"medium",calendar:e}).format(l),e=="gregory"&&(g=l.getFullYear(),g<0?i+=" "+keywords[43]:g==0&&(i=htAdjustGregorianZeroYear(i))),i}function htConvertGregorianYearToJD(e){var n,t=new Date;return e!="now"&&(n=parseInt(e),t.setYear(n)),gregorian_to_jd(e,t.getMonth(),t.getDate())}function htConvertGregorianYear(e,t){var n,s,i,a,r,c,l,d,u,o=0;if(t!="now"?o=parseInt(t):(d=new Date,o=d.getFullYear()),i=htConvertGregorianYearToJD(o),n="",e=="gregory")o>=0?n+=o:n+=Math.abs(o)+" "+keywords[43];else{switch(u=void 0,s=0,e){case"hebrew":converted=jd_to_hebrew(i);break;case"islamic":converted=jd_to_islamic(i);break;case"persian":converted=jd_to_persian(i);break;case"julian":return n=i+" "+keywords[41],n;case"emesoamerican":s=jd_to_extended_mayan_count(i);case"mesoamerican":return s==0&&(s=jd_to_mayan_count(i)),l=jd_to_mayan_haab(i),c=jd_to_mayan_tzolkin(i),n=s[0]+"."+s[1]+"."+s[2]+"."+s[3]+"."+s[4]+"."+s[5]+"."+s[6]+"."+s[7]+" ( Haab: "+l[1]+" "+MAYAN_HAAB_MONTHS[l[0]-1]+", Tzolkin: "+c[1]+" "+MAYAN_TZOLKIN_MONTHS[c[0]-1]+" )",n;case"french":return a=jd_to_french_revolutionary(i),o=a[0]<0?Math.abs(a[0])+" "+keywords[43]:a[0],n=""+o,n;case"shaka":return r=jd_to_indian_civil(i),o=r[0]<0?Math.abs(r[0])+" "+keywords[43]:r[0],n=""+o,n;case"hispanic":converted=new Array(""+(parseInt(o)+38));break;default:return void 0}converted[0]>=0?n+=converted[0]:n+=Math.abs(converted[0])+" "+keywords[43]}return n}function htConvertGregorianDate(e,t,n,s,o){var a,r,i="";return n!="now"?i=parseInt(n):(a=new Date,i=a.getFullYear()),r=new Array(i,s,o),htConvertDate(e,t,void 0,void 0,r)}function htConvertUnixDate(e,t,n){return htConvertDate(e,t,n,void 0,void 0)}function htConvertJulianDate(e,t,n){return htConvertDate(e,t,void 0,n,void 0)}function htMountCurrentLinkBasis(e,t){const n=window.location.href;var o,i,s=n.search("#");return s<0&&(s=n.search("\\?")),o=s>0?n.substring(0,s):n,o+="?page=tree&arg="+e,t&&(i=n.search("page=tree"),i>=0&&(o+="&person_id="+t)),o}function htSetCurrentLinkBasis(e,t,n){const s=n??htMountCurrentLinkBasis(e,t);return window.history.replaceState(null,null,s),!1}function htCopyLink(e,t,n){var s,o=htMountCurrentLinkBasis(e,t);htSetCurrentLinkBasis(e,t,o),o+="&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val(),s=$("<input>"),$("body").append(s),s.val(o).select(),document.execCommand("copy"),s.remove();const i=$("#"+n),a=i.text();return i.text(keywords[133]),setTimeout(()=>{i.text(a)},3e3),!1}function htLoadSources(e,t,n){if(e.sources){e.sources.forEach(e=>{htLoadPage(e,"json","source",!1)});return}if(t!=="source")return;if(!e){console.warn("Invalid data structure provided to htLoadSources");return}const s=[{map:primarySourceMap,sources:e.primary_sources},{map:refSourceMap,sources:e.reference_sources},{map:holyRefSourceMap,sources:e.religious_sources},{map:smSourceMap,sources:e.social_media_sources}];s.forEach(({map:e,sources:t})=>{htFillMapSource(e,t||[])}),n&&n.length===36&&(genealogicalStats.primary_src=e.primary_sources?.length||0,genealogicalStats.reference_src=e.reference_sources?.length||0,genealogicalStats.holy_src=e.religious_sources?.length||0,genealogicalStats.social_media_src=e.social_media_sources?.length||0)}function htFillHistorySources(e,t,n,s,o){const r=$("#site_language").val(),c=$("#site_calendar").val();if(n)for(const e in n){var i=n[e],a=i.text!=void 0&&i.format!=void 0?htParagraphFromObject(i,r,c):"<p>"+i+"</p>";$(t).append('<p class="'+s+`" onclick="htFillTree('`+o+`'); ">`+a+"</p>")}}function htFillMapSource(e,t){if(!t)return;const o=$("#site_language").val(),i=$("#site_calendar").val();for(const r in t){var n,s,a=e.has(t[r].id);a==!1&&(s="",t[r].date!=void 0?(n=t[r].date.split("-"),n.length==3&&(s=htConvertGregorianDate(i,o,n[0],n[1],n[2]))):t[r].date_time!=void 0&&(n=t[r].date_time.split("-"),n.length==3&&(s=htConvertGregorianDate(i,o,n[0],n[1],n[2]))),e.set(t[r].id,{citation:t[r].citation,date:s,url:t[r].url}))}}function htLoadSource(e,t,n,s){$(e).html("");var o,i,a=n.has(s);if(a&&(i=n.get(s),o=i.split(";"),o.length>0))for(let n=0;n<o.length;n++)htFillSource(e,t,o[n])}function htFillSource(e,t,n){const s=t.get(n);if(s){var o,i="";s.date_time&&s.date_time.length>0&&(i=". [ "+keywords[22]+" "+s.date_time+" ]."),o="",s.url&&s.url.length>0&&(o=keywords[23]+' <a target="_blank" href="'+s.url+'"> '+s.url+"</a>"),$(e).append("<p>"+s.citation+" "+i+" "+o+"</p>")}}function htAppendFamilyParentsData(e,t,n,s,o){var i,a,r,c,l,d,u,h,m=s.parents;for(const s in m)i=m[s],d=e+"-parents-"+t,r=i.father_id,c=i.mother_id,!r&&!c?($("#"+e+"-"+t).append('<div id="'+d+'" class="tree-real-family-text"><p><b>'+keywords[0]+"</b>: "+keywords[10]+"</p></div>"),familyMap.set(t,"null&null&t")):(a="",l="",r&&i.father_family.length>0?(d+=r+"-",l=personNameMap.get(r),l?i.father_family!=void 0&&i.father_family.length>0?i.father_family==n||i.father_external_family_file!=void 0&&i.father_external_family_file==!1?a+=`<a href="javascript:void(0);" onclick="htScroolTree('#name-`+r+"'); htFillTree('"+r+"'); htSetCurrentLinkBasis('"+o+"', '"+r+"',"+void 0+');">'+l+"</a>":a+='<a target="_blank" href="index.html?page=tree&arg='+i.father_family+"&person_id="+r+"&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val()+`" onclick="htLoadPage('tree', 'html', '`+i.father_family+"&person_id="+r+`', false); return false;">`+l+"</a>":a+=i.father_name:i.father_name&&i.father_family&&i.father_family!=n&&i.father_family>0?a+='<a target="_blank" href="index.html?page=tree&arg='+i.father_family+"&person_id="+r+"&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val()+`" onclick="htLoadPage('tree', 'html', '`+i.father_family+"&person_id="+r+`', false); return false;">`+i.father_name+"</a>":a+=i.father_name):a+=i.father_name,d+="-",c&&(d+=c+"-",l=personNameMap.get(c),l?i.mother_family!=void 0&&i.mother_family.length>0?i.mother_family==n||i.mother_external_family_file!=void 0&&i.mother_external_family_file==!1?a+=` & <a href="javascript:void(0);" onclick="htScroolTree('#name-`+c+"'); htFillTree('"+c+"'); htSetCurrentLinkBasis('"+o+"', '"+c+"',"+void 0+');">'+l+"</a>":a+=' & <a target="_blank" href="index.html?page=tree&arg='+i.mother_family+"&person_id="+c+"&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val()+`" onclick="htLoadPage('tree', 'html', '`+i.mother_family+"&person_id="+c+`', false); return false;">`+l+"</a>":a+=" & "+l:i.mother_name&&i.mother_family&&i.mother_family!=n&&i.mother_family>0?a+=' & <a target="_blank" href="index.html?page=tree&arg='+i.mother_family+"&person_id="+c+"&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val()+`" onclick="htLoadPage('tree', 'html', '`+i.mother_family+"&person_id="+c+`', false); return false;">`+i.mother_name+"</a>":a+=" & "+i.mother_name),i.type=="theory"?(u=keywords[0],h="tree-real-family-text"):(u=keywords[1],h="tree-hipothetical-family-text"),a.length==0&&(a+=i.father_name+" & "+i.mother_name),$("#"+e+"-"+t).append('<div id="'+d+'" class="'+h+'"><p><b>'+u+"</b>: "+a+"</p></div>"))}function htAppendFamilyMarriagesData(e,t,n,s,o){var i,a,r,c,l,d,u,m,f,p,h=s.marriages;const v=$("#site_language").val(),g=$("#site_calendar").val();genealogicalStats.marriages+=h.length;for(const s in h)i=h[s],c=e+"-relationship-"+i.id,f=i.type,m=i.official,i.id==void 0?$("#"+e+"-"+t).append('<div id="'+c+'" class="tree-real-family-text"><p><b>'+keywords[17]+"</b>: "+keywords[19]+"</p></div>"):(d="",f=="theory"?(u="tree-real-family-text",l=keywords[17]):(u="tree-hipothetical-family-text",l=keywords[18],d='<div class="no_personal_events_class"><p>'+keywords[102]+keywords[96]+keywords[98]+"</p></div>"),m!=null&&m==!1&&(l=keywords[86]),a="",r="",i.date_time!=void 0&&i.date_time.sources!=null&&(r=htMountPersonEvent(" ",i.date_time,v,g)),i.family_id==void 0||i.family_id.length==0||n==null?a=i.name:n==i.family_id||i.external_family_file!=void 0&&i.external_family_file==!1?a=`<a href="javascript:void(0);" onclick="htScroolTree('#name-`+i.id+"'); htFillTree('"+i.id+"'); htSetCurrentLinkBasis('"+o+"', '"+i.id+"',"+void 0+');">'+i.name+"</a>"+r:a='<a href="index.html?page=tree&arg='+i.family_id+"&person_id="+i.id+"&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val()+`" onclick="htLoadPage('tree', 'html', '`+i.family_id+"&person_id="+i.id+`', false); return false;">`+i.name+"</a>"+r,$("#"+e+"-"+t).append('<div id="'+c+'" class="'+u+'"><p><b>'+l+"</b> "+a+".</p>"+d+"</div>"),htFillHistorySources(i.id,"#"+c,i.history,"tree-default-align",i.id),p=personNameMap.has(i.id),p==!1&&personNameMap.set(i.id,i.name))}function htAppendFamilyChildrenData(e,t,n,s,o){var i,a,r,c,l,u,h,m,d=s.children;genealogicalStats.children+=d.length;for(const s in d)i=d[s],h=e+"-children-"+i.id,l=e+"-relationship-",i.marriage_id!=void 0&&(l+=i.marriage_id),m=i.type,u="",m=="theory"?(c="tree-real-child-text",a=keywords[20]):(c="tree-hipothetical-child-text",a=keywords[21],u='<div class="no_personal_events_class"><p>'+keywords[102]+keywords[96]+keywords[98]+"</p></div>"),r="",i.family_id==void 0||i.family_id.length==0||i.external_family_file!=void 0&&i.external_family_file==!1&&i.add_link==!1?r=a+" "+i.name:n==i.family_id||i.external_family_file!=void 0&&i.external_family_file==!1?r=`<a href="javascript:void(0);" onclick="htScroolTree('#name-`+i.id+"'); htFillTree('"+i.id+"'); htSetCurrentLinkBasis('"+o+"', '"+i.id+"',"+void 0+');">'+a+" "+i.name+"</a>":r='<a href="index.html?page=tree&arg='+i.family_id+"&person_id="+i.id+"&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val()+`" onclick="htLoadPage('tree', 'html', '`+i.family_id+"&person_id="+i.id+`', false);">`+a+" "+i.name+"</a>",$("#"+l).append('<div id="'+h+'" class="'+c+'"><p><b>'+r+"</b>: </p>"+u+"</div>"),$("#"+h).append('<div id="with-parent-'+i.id+'" class="'+c+'"></div>'),htFillHistorySources("parent-"+i.id,"#with-parent-"+i.id,i.history,"",i.id),htSetMapFamily(i.id,t,i.marriage_id,i.type),personNameMap.set(i.id,i.name)}function htAppendFamilyData(e,t,n,s,o,i){var a,r,d,h,m,f,c=o.history,l=o.parents,u=o.marriages;c!=null&&((l==null||u==null)&&e!="tree"?(a=keywords[8],r=`<a href="javascript:void(0);" onclick="htScroolToID('#index_list');">`+keywords[78]+"</a>"):(a=keywords[9],r=""),d=htMountPersonEvents(o),$("#"+e+"-"+t).append('<h3 id="name-'+t+`" onclick="htFillTree('`+t+"'); htSetCurrentLinkBasis('"+i+"', '"+t+"',"+void 0+');">'+a+" : "+s+' (<a id="'+e+"_"+t+`link" href="javascript:void(0);" onclick="htCopyLink('`+i+"', '"+t+"', '"+e+"_"+t+`link'); return false;" >`+keywords[26]+"</a>). "+r+"</h3><p>"+d+"</p>")),h=o.primary_source,m=o.references,f=o.holy_references,htFillHistorySources(t,"#"+e+"-"+t,c,"tree-default-align",t),l&&htAppendFamilyParentsData(e,t,n,o,i),o.marriages&&htAppendFamilyMarriagesData(e,t,n,o,i),o.children&&htAppendFamilyChildrenData(e,t,n,o,i)}function htHideTree(e){e>1&&$("#child").hide(),e>0&&($("#father").hide(),$("#mother").hide()),e>-1&&(e>1&&($("#grandfather01").hide(),$("#grandmother01").hide()),e>0&&($("#grandfather02").hide(),$("#grandmother02").hide()))}function htFillTree(e){if(htHideTree(2,2),e==null)return;var n,s,o,i,a,r,l,d,u,h,t="theory",c=htFillDivTree("#child",e,t);if(c==null){htHideTree(1,2);return}if(n=c.split("&"),n.length==0){htHideTree(1,2);return}t=n[2]=="t"?"theory":"hypothetical",r=htFillDivTree("#father",n[0],t),r==null?htHideTree(0,1):(o=r.split("&"),o.length!=3?htHideTree(0,1):(i=o[2]=="t"?"theory":"hypothetical",l=htFillDivTree("#grandfather01",o[0],i),d=htFillDivTree("#grandmother01",o[1],i))),a=htFillDivTree("#mother",n[1],t),a==null?htHideTree(0,2):(s=a.split("&"),s.length!=3?htHideTree(0,2):(t=s[2]=="t"?"theory":"hypothetical",u=htFillDivTree("#grandmother02",s[0],t),h=htFillDivTree("#grandfather02",s[1],t)))}function htFillDivTree(e,t,n){if(t==null||t=="null")return $(e).hide(),void 0;var o,i,s=personNameMap.get(t);return s==null?void 0:($(e).html(""),i=s,o=s.search("\\("),$(e).append(i.substring(0,o!=-1?o:32)),n=="theory"?($(e).css("border-style","solid"),$(e).css("font-style","normal")):($(e).css("border-style","dashed"),$(e).css("font-style","italic")),$(e).show(),familyMap.get(t))}function htMountPersonEvent(e,t,n,s){var i,a,o="<b>"+e+"</b> ";for(const e in t){if(i=t[e],!i.date_time)continue;e&&(o+=" "+keywords[91]+" ");const r=i.date!=void 0?i.date:i.date_time;o+=htMountSpecificDate(r[0],n,s)+" (",a=i.sources;for(const t in a){let e=a[t];t!=0&&(o+=" ; ");const i=htFillHistorySourcesSelectFunction(e.type),r=e.date_time;let c=e.date!=void 0?", "+htMountSpecificDate(r,n,s):"";o+='<a href="#" onclick="htCleanSources(); '+i+"('"+e.uuid+`'); return false;"><i>`+e.text+" "+c+"</i></a>"}o+=")"}return o}function htMountPersonEvents(e){var n,s,o,i,a,r,c,l,d,t="";if(!e.is_real)return'<div class="no_personal_events_class">'+keywords[95]+keywords[96]+keywords[97]+"</div>";if(n=$("#site_language").val(),s=$("#site_calendar").val(),t='<div class="personal_events_class">'+keywords[95],d=t,o="",e.haplogroup!=void 0&&e.haplogroup.length>0){t+="<b>"+keywords[103]+"</b>: ";for(const o in e.haplogroup){i=e.haplogroup[o],o!=0&&(t+=", "),r=i.sources,c="";for(const t in r){let e=r[t];t!=0&&(text+=" ; "),l=htFillHistorySourcesSelectFunction(e.type),a="",e.date_time&&(a=", "+htMountSpecificDate(e.date_time,n,s)),c+='<a href="#" onclick="htCleanSources(); '+l+"('"+e.uuid+`'); return false;"><i>`+e.text+" "+a+"</i></a>"}t+=i.haplogroup+" ("+i.type+") ("+c+")"}t+="<br />"}return e.sex&&e.sex.length>0&&(o=e.sex),e.gender&&e.gender.length>0&&(o+=" / "+e.gender),o.length>0&&(t+="<b>"+keywords[100]+"/"+keywords[101]+"</b>: "+o+"<br />"),e.birth&&(t+=htMountPersonEvent(keywords[92],e.birth,n,s)+"<br />"),e.baptism&&(t+=htMountPersonEvent(keywords[93],e.baptism,n,s)+"<br />"),e.surname&&(t+="<b>"+keywords[104]+"</b>: "+e.surname+"<br />"),e.patronymic&&(t+="<b>"+keywords[105]+"</b>: "+e.patronymic+"<br />"),e.death&&(t+=htMountPersonEvent(keywords[94],e.death,n,s)+"<br />"),d.length==t.length&&(t+=keywords[99]),t+="</div>",t}function htSetMapFamily(e,t,n,s){if(!t&&!n){familyMap.set(e,"null&null&t");return}var o=t||"null";o+=n?"&"+n:"null",o+=s=="theory"?"&t":"&h",familyMap.set(e,o)}function htFillFamilies(e,t){t.title&&$(document).prop("title",t.title);const g=$("#site_language").val(),p=$("#site_calendar").val();if(t.documentsInfo&&$("#overallInfo").length>0){var n,s,o,i,a,r,c,l,d,u,h,m,f="<p><h3>"+keywords[53]+"</h3>"+keywords[59]+"</p>";t.documentsInfo.length==4&&(f+=t.documentsInfo[3]),$("#overallInfo").html(f),$("#documentsInfoLang").length>0&&$("#documentsInfoLang").html(t.documentsInfo[0]),$("#documentsInfoCalendarName").length>0&&$("#documentsInfoCalendarName").html(t.documentsInfo[1]),$("#documentsInfoCalendarVisibleOption").length>0&&$("#documentsInfoCalendarVisibleOption").html(t.documentsInfo[2])}if(t.periodOfTime&&$("#periodOfTime").length>0&&t.periodOfTime.length==2&&(m="<p><h3>"+keywords[76]+"</h3>"+keywords[77]+"</p>",$("#periodOfTime").html(m),$("#documentsPeriodOrigin").length>0&&$("#documentsPeriodOrigin").html(t.periodOfTime[0]),$("#documentsPeriodTime").length>0&&$("#documentsPeriodTime").html(t.periodOfTime[1])),$("#files").length>0){i=keywords[108]+"<p><ul>";const e=i.length;t.csv&&(i+='<li><a href="'+t.csv+'" target="_blank">CSV</a>: '+keywords[109]+"</li>"),t.gedcom&&(i+='<li><a href="'+t.gedcom+'" target="_blank">GEDCOM</a>: '+keywords[110]+"</li>"),e!=i.length&&(i+="</ul></p>"+keywords[111],$("#files").html(i))}if(t.maps&&$("#maps").length>0){c="<p><h3>"+keywords[79]+"</h3>"+keywords[80]+"</p>";for(const e in t.maps){if(s=t.maps[e],s.text==void 0||s.img==void 0)continue;h=htOverwriteHTDateWithText(s.text,s.date_time,g,p),c+='<p class="desc"><img src="'+s.img+'" id="imgFamilyMap'+s.order+`" onclick="htImageZoom('imgFamilyMap`+s.order+`', '0%')" class="imgcenter"/>`+keywords[81]+" "+s.order+": "+h+" "+keywords[82]+" "+keywords[83]+"</p>"}$("#maps").html(c)}if(t.prerequisites&&$("#pre_requisites").length>0){r="";for(const e in t.prerequisites){let n=t.prerequisites[e];r+="<p>"+n+"</p>"}r+="</ul></p>",$("#pre_requisites").html(r)}$("#contribution").length>0&&$("#contribution").html(keywords[54]),$("#sources-lbl").html(keywords[5]),$("#tree-sources-lbl").html(keywords[5]),$("#tree-references-lbl").html(keywords[6]),$("#references-lbl").html(keywords[6]),$("#tree-holy_references-lbl").html(keywords[7]),$("#holy_references-lbl").html(keywords[7]),$("#tree-sm-references-lbl").html(keywords[75]),$("#tree-sm-lbl").html(keywords[75]),$("#child").html(keywords[9]),$("#father").html(keywords[2]),$("#mother").html(keywords[3]),$("#grandfather01").html(keywords[11]),$("#grandmother01").html(keywords[12]),$("#grandfather02").html(keywords[13]),$("#grandmother02").html(keywords[14]),genealogicalStats.families=t.families!=void 0?t.families.length:0,l=0;for(const o in t.families){let s=t.families[o];if(s.id==void 0||s.name==void 0)continue;if(a=s.id,$("#index_list").append('<li id="lnk-'+a+`"><a href="javascript:void(0);" onclick="htScroolTree('#hist-`+a+`');">`+keywords[8]+" : "+s.name+"</a></li>"),$("#trees").append('<div id="hist-'+a+'"></div>'),htAppendFamilyData("hist",a,void 0,s.name,s,e),s.people==void 0)continue;n=s.people,l+=n.length;for(const t in n){if(n[t].id==void 0||n[t].name==void 0)continue;d=n[t].id,$("#hist-"+a).append('<div id="tree-'+d+'" class="tree-person-text"></div>'),personNameMap.set(n[t].id,n[t].fullname),htAppendFamilyData("tree",d,a,n[t].fullname,n[t],e)}}genealogicalStats.people=l,o=$("#selector").val(),o!=null&&o.length>1&&(u=$("#name-"+o).val(),u!=null&&(htScroolToID("#name-"+o),htFillTree(o))),htLoadPage("tree","json","",!1),t.exercise_v2!=void 0&&t.exercise_v2.constructor===vectorConstructor&&htWriteQuestions(t.exercise_v2,"",0),t.date_time!=void 0&&t.date_time.constructor===vectorConstructor?htFillHTDate(t.date_time):t.fill_dates!=void 0&&t.fill_dates.constructor===vectorConstructor&&htFillHTDate(t.fill_dates),$("#loading_msg").hide()}function htFillPrimarySource(e){htFillSource("#tree-source",primarySourceMap,e)}function htFillReferenceSource(e){htFillSource("#tree-ref",refSourceMap,e)}function htFillHolySource(e){htFillSource("#tree-holy-ref",holyRefSourceMap,e)}function htFillSMSource(e){htFillSource("#tree-sm-ref",smSourceMap,e)}function htFillClassContentV2(e,t,n,s,o){const l=$("#site_language").val(),d=$("#site_calendar").val();$("#htaudio").length>0&&e.audio&&htAddAudio(e.audio),htFillDivAuthorsContent("#paper",t,n,s);var a,c,i=0,r="";o&&(r='<p class="dynamicNavigation"></p>',htAddPaperDivs("#paper","indexTop",r,"",'<hr class="limit" />',i),i++);for(const n in e.content){let t=e.content[n];for(const e in t.text)a=t.text[e],c=a.text!=void 0?htParagraphFromObject(a,l,d):a,$("#"+t.id).length>0?$("#"+t.id).html(c):htAddPaperDivs("#paper",t.id+"_"+e,c,"","",i);i++}e.exercise_v2&&htWriteQuestions(e.exercise_v2,"",i),e.game_v2&&htWriteGame(e.game_v2,"",1),e.date_time&&htFillHTDate(e.date_time),htAddPaperDivs("#paper","repeat-index",r,'<hr class="limit" />',"",i)}function htAddAudio(e){var t,o,n=keywords[106],s=0;for(const i in e){if(t=e[i],t.url==void 0||t.length==0)continue;i%2==0&&s++,t.spotify!=void 0&&t.spotify==!0?n+=': <a href="'+t.url+'" target="_blank"> <i class="fa-brands fa-spotify" target="_blank" style="font-size: 1.0em;"></i> '+keywords[107]+" "+s+"</a>":(o=t.external!=void 0&&t.external==!1?"audio/"+t.url:t.url,n+=' <audio controls preload="none"><source src="'+o+'" type="audio/ogg"></audio>')}$("#htaudio").html(n)}function htFillMixedMapList(e,t){const i=$("#site_language").val(),a=$("#site_calendar").val();for(const r in e){let n=e[r];var s,o=n.date_time!=void 0?htOverwriteHTDateWithText(n.desc,n.date_time,i,a):n.desc;n.family_id!=void 0&&n.family_id.length>0?(s=n.person_id!=void 0&&n.person_id.length>0?n.family_id+"&person_id="+n.person_id:n.family_id,$("#"+t).append('<li id="'+r+'"><a href="index.html?page=tree&arg='+s+"&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val()+`" onclick="htLoadPage('tree', 'html', '`+s+`', false); return false;" >`+n.name+"</a>: "+o+"</li>")):n.id!=void 0&&n.name!=void 0&&n.desc!=void 0&&$("#"+t).append('<li id="'+r+'"><a href="index.html?page=class_content&arg='+n.id+"&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val()+`" onclick="htLoadPage('class_content', 'html', '`+n.id+`', false); return false;" >`+n.name+"</a>: "+o+"</li>")}}function htFillGroupList(e,t,n,s){const o=$("#"+t),i=$("#site_language").val(),a=$("#site_calendar").val();for(const c in e){const t=e[c];var r="";if(t.id!="date_time"){const e=[];t.csv&&e.push(`<a href="${t.csv}" target="_blank">CSV</a>`),t.gedcom&&e.push(`<a href="${t.gedcom}" target="_blank">GEDCOM</a>`);const r=e.length?` (${e.join(", ")})`:"",c=s==null?t.name:htOverwriteHTDateWithText(t.name,s,i,a);o.append('<li id="'+t.id+'"><a href="index.html?page='+n+"&arg="+t.id+"&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val()+`" onclick="htLoadPage('`+n+"', 'html', '"+t.id+`', false); return false;" >`+c+"</a>: "+t.desc+" "+r+"</li>")}else t.text.constructor===vectorConstructor&&htFillHTDate(t.text)}}function htFillSubMapList(e,t){for(const s in e){const n=e[s];switch(n.page){case"class_content":n.id!=void 0&&n.name!=void 0&&n.desc!=void 0&&$("#"+t).append('<li id="'+s+'"><a href="index.html?page=class_content&arg='+n.id+"&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val()+`" onclick="htLoadPage('class_content', 'html', '`+n.id+`', false); return false;" >`+n.name+"</a>: "+n.desc+"</li>");break;case"tree":default:n.person_id!=void 0&&n.family_id!=void 0&&n.family_id.length>0&&n.fullname!=void 0&&n.desc!=void 0&&$("#"+t).append('<li id="'+s+'"><a href="index.html?page=tree&arg='+n.family_id+"&person_id="+n.person_id+"&lang="+$("#site_language").val()+"&cal="+$("#site_calendar").val()+`" onclick="htLoadPage('tree', 'html', '`+n.family_id+"&person_id="+n.person_id+`', false); return false;" >`+n.fullname+"</a>: "+n.desc+"</li>")}}}function htUpdateIndexSelector(e,t){if(!Array.isArray(e))return;for(const s in e){let n=e[s];$(t+' option[value="'+n.dir+'"]').length>0&&$(t+' option[value="'+n.dir+'"]').text(n.text)}const n=$(t),s=n.val();$(t).val(s)}function htUpdateAvailableLanguages(e){if(!Array.isArray(e))return;for(const n in e){let t=e[n];$('#site_language option[value="'+t.dir+'"]').length>0&&!t.available&&$('#site_language option[value="'+t.dir+'"]').remove()}}function htFillKeywords(e){if(!Array.isArray(e))return;const t=75;if(e.length<t){console.warn(`Insufficient keywords: need ${t}, got ${e.length}`);return}keywords=[];for(const t in e)keywords.push(e[t]);$("#index_lang").html(keywords[39]),$("#index_calendar").html(keywords[40]),$("#index_theme").html(keywords[74]),htUpdateCurrentDateOnIndex()}function htFillMathKeywords(e){if(!Array.isArray(e))return;mathKeywords=[];for(const t in e)mathKeywords.push(e[t])}function htFillHistorySourcesSelectFunction(e){const t={0:"htFillPrimarySource",1:"htFillReferenceSource",2:"htFillHolySource",3:"htFillSMSource"};return t[e]||t[3]}function htSelectIndexMap(e){const t={history:htHistoryIdx,literature:htLiteratureIdx,first_steps:htFirstStepsIdx,math_games:htMathGamesIdx,families:htFamilyIdx,indigenous_who:htIndigenousWhoIdx,myths_believes:htMythsBelievesIdx,historical_events:htHistoricalEventsIdx,physics:htPhysicsIdx,chemistry:htChemicalIdx,biology:htBiologyIdx};return t[e]}function htSelectIndexName(e){const t={families:keywords[8],first_steps:keywords[121],atlas:"Atlas",literature:keywords[122],indigenous_who:keywords[123],myths_believes:keywords[124],history:keywords[125],math_games:keywords[126],physics:keywords[127],chemistry:keywords[128],biology:keywords[129],historical_events:keywords[130]};return t[e]||"Undefined"}function htUpdateNavigationTitle(e,t,n){var s,o=$("#header").html();if(e==0)$("#header").removeClass(),$("#header").removeAttr("style"),$("#header").addClass("top-bar-inside-left"),o=t+" ("+n+")";else{const e=window.innerWidth;s=0,e<992?s=.8:e<1200?s=1:s=1.2,$("#header").css("font-size",s+"em"),$("#header").css("font-weight","bold"),o+="; "+t+" ("+n+")"}$(header).html(o)}function htBuildNavigationSteps(e,t,n,s,o){var a,c,l,d,u,m,h="",r="",i="";return e.prev==n?h='<a href="index.html?page='+n+`" onclick="htLoadPage('`+n+`','html', '', false); return false;"><span>`+keywords[60]+" ("+s+")</span></a>":(c=t.get(e.prev),i=e.prev.split(":"),r=n=="families"||c.additional!=void 0?"tree":"class_content",l="",c.additional!=void 0?l=c.additional.length>1?i[0]+"&person_id="+c.additional:i[0]:l=i[0],h='<a href="index.html?page='+r+"&arg="+l+`" onclick="htLoadPage('`+r+"', 'html', '"+l+`', false); return false;">`+c.name+"</a>"),u="",e.next==void 0?u="&nbsp;":(a=t.get(e.next),i=e.next.split(":"),r=n=="families"||a.additional!=void 0?"tree":"class_content",d="",a.additional!=void 0?d=a.additional.length>1?i[0]+"&person_id="+a.additional:i[0]:d=i[0],u='<a href="index.html?page='+r+"&arg="+d+`" onclick="htLoadPage('`+r+"', 'html', '"+d+`', false); return false;">`+a.name+"</a>"),m='<tr style="background-color: '+o+';"><td>'+h+'</td> <td><a href="index.html?page='+n+`" onclick="htLoadPage('`+n+`','html', '', false); return false;"><span>`+s+"</span></td><td>"+u+"</td></tr>",m}function htBuildNavigation(e,t,n){var s,o,i,a,r,l,d,u,h,c=new URLSearchParams(window.location.search);if(!c.has("arg"))return null;if(a=c.get("arg"),o=htSelectIndexMap(e),s=o.get(a),s==null)return"";if(r=htSelectIndexName(e),i=htBuildNavigationSteps(s,o,e,r,n),loadedIdx.length==1)return i;l=s.total+2;for(let t=0;t<l;t++){if(h=t%2?"#FFFFE0":n,d=s.total+1,u=a+":"+d,s=o.get(u),s==null)break;i+=htBuildNavigationSteps(s,o,e,r,n)}return i}function htWriteNavigation(){if(loadedIdx.length==0)return;var t,e='<p><table class="book_navigation"><tr><th colspan="3" style="background-color: #FFFFE0;">'+keywords[132]+'</th></tr><tr style="background-color: #FFFFE0;"><td><span>'+keywords[56]+"</span></td> <td> <span>"+keywords[57]+"</span> </td> <td><span>"+keywords[58]+"</span></td></tr>";for(const n in loadedIdx)t=n%2?"#FFFFE0":"#FFFFFF",e+=htBuildNavigation(loadedIdx[n],n,t);e+="</table></p>",$(".dynamicNavigation").attr("data-after-content",keywords[132]),$(".dynamicNavigation").each(function(){$(this).html(e)})}function htFillPIXQRCode(e,t){var n=$(e);n.is(":empty")&&$("<img>",{src:"images/HistoryTracers/qrcodePix.png",width:t}).appendTo(n)}function htFillDivAuthorsContent(e,t,n,s){if(t<=0||!e)return;if($("#paper-date").length>0)return;const i=$(e),a=$("#site_language").val(),r=$("#site_calendar").val(),c=htConvertDate(r,a,t);let o=`
        <p>
            <div id="paper-title" class="paper-title-style">
                <div id="paper-date" class="paper-date-style">
    `;keywords&&(o+=`${keywords[34]} : ${n}.<br />`,o+=`${keywords[36]} : ${s}.<br />`,o+=`${keywords[33]} : ${c}.`),o+=`
                </div>
                <div id="paper-print" class="paper-print-style">
                    <a href="#" class="fa-solid fa-print" onclick="htPrintContent('#header', '#page_data'); return false;"></a>
                </div>
            </div>
            <br />
            <i>${keywords[24]} ${keywords[38]}</i>
        </p>
    `,i.append(o)}function htLoadPageMountURL(e,t,n){const i="lang/";if(e=="lang_list")return i+e+".json";let o=$("#site_language").val();o||(o=htDetectLanguage());let s=i;return t==="source"?s+=`${t}s/`:s+=`${o}/`,n&&n.length>0&&(s+=`${n}/`),s+=`${e}.json`,s}function htOverwriteHTDateWithText(e,t,n,s){if(!t||!Array.isArray(t)||t.length===0)return e;if(typeof e!="string"||!n||!s)return e;let o=e;for(let e=0;e<t.length;e++){const i=htMountSpecificDate(t[e],n,s);o=o.replace(`<htdate${e}>`,i)}return o}function htGetTextWithDateReplacements(e,t,n){return e.date_time?htOverwriteHTDateWithText(e.text,e.date_time,t,n):e.fill_dates?htOverwriteHTDateWithText(e.text,e.fill_dates,t,n):e.text||""}function htParagraphFromObject(e,t,n){if(!e||typeof e!="object")return"<p></p>";const d=e.format||"html";let m=htGetTextWithDateReplacements(e,t,n),o=d==="html"?"<p>":"";if(o+=htFormatText(m,d,e.isTable),e.source!=void 0&&e.source!=null){var a,r,c,l,u,h,s=e.source,i=" (";for(const e in s)r="<htcite"+e+">",h=o.search(r),u=htFillHistorySourcesSelectFunction(s[e].type),a="",s[e].date!=void 0&&s[e].date.year.length>0?a=", "+htMountSpecificDate(s[e].date,t,n):s[e].date_time!=void 0&&s[e].date_time.year.length>0&&(a=", "+htMountSpecificDate(s[e].date_time,t,n)),c="",s[e].page!=void 0&&s[e].page.length>0&&(c=", "+s[e].page),l='<a href="#" onclick="htCleanSources(); '+u+"('"+s[e].uuid+`'); return false;"><i>`+s[e].text+a+c+"</i></a>",h<0?(e!=0&&i.length>2&&(i+=" ; "),i+=l):o=o.replace(r,l);i.length>2&&(o+=i+")")}return o+=e.PostMention?e.PostMention:"",o+="</p>",o}function htFillSMGameData(e){if(e==null||e.content.length==0)return;var t,n,s,o,i,a,r,c,l,u,h,m,d=document.getElementsByClassName("htSlide");if(d.length!=0&&$(".htSlide").remove(),i=opt0ac0098b.requestType,t=e.levels,t!=null&&i=="splash"&&$("#smGameMenu").length==0){$(opt0ac0098b.target).append('<div class="htSlideGameMenu htSlideGameMenuHidden" id="smGameMenu"></div> <div id="smGameScore" class="htSlideGameScore htSlideGameMenuHidden"><b>'+keywords[70]+'<span id="currentSMScore">0</span></b></div> <div class="htSlideGameTextBottom smGameTextSize htSlideGameMenuHidden" id="smGameDesc"></div> <div id="smGamePlay"><i class="fa-solid fa-play htSlidePlayGame" onclick="htStartSMGame();"></i></div>');for(const e in t){if(t[e].type==void 0)continue;t[e].type=="topLevel"?$("#smGameMenu").append('<p class="smGameTextSize"><b>'+t[e].name+"</b>: "+t[e].desc+'</p><p><ul id="'+t[e].id+'"></ul></p>'):t[e].type=="level"&&$("#"+t[e].target).length>0&&$("#"+t[e].target).append(`<li class="menu"> <span class=" smGameTextSize"><a href="javascript:void(0);" onclick="htLoadPageV1('`+t[e].loadID+`', 'json', '', 'false', 'smGame', '');">`+t[e].name+"</a>: "+t[e].desc+"</span></li>")}c=htGetRandomArbitrary(0,htGameImages.length-5),$(opt0ac0098b.target).append('<p class="desc"><img class="imgGameSizeWithOpacity" src="images/'+htGameImages[c]+'"><br />'+keywords[71]+" "+htGameImagesLocation[c]+".</p>")}smGame=[],t=e.content,m=i=="splash"?"htSlideGameTextCenter":"htSlideGameTextTopCenter",l=-1;for(const e in t){if(t[e].position!=void 0)switch(t[e].position){case"center":s="htSlideGameTextCenter";break;case"topCenter":s="htSlideGameTextTopCenter";break;default:s="htSlideGameTextTop"}else s=m;if(r="",u=$("#site_language").val(),h=$("#site_calendar").val(),t[e].text!=void 0)if(t[e].text.constructor===vectorConstructor){n=t[e].text;for(const s in n)a=n[s].constructor===stringConstructor?n[s]:htParagraphFromObject(n[s],u,h),t[e].paragraphClass!=void 0&&(a=a.replace(/<p>/g,'<p class="'+t[e].paragraphClass+'">')),r+=a}else r=t[e].text;if(o=null,t[e].desc!=void 0)if(t[e].desc.constructor===vectorConstructor){n=t[e].desc,o="";for(const e in n)o+=n[e]}else o=t[e].desc;smGame.push({desc:o,prev:t[e].prev,next:t[e].next,jumpTo:t[e].jumpTo,score:t[e].score,answer:t[e].answer,played:!1}),$(opt0ac0098b.target).append('<div class="htSlide" id="'+t[e].id+`"><div class='`+s+"'>"+r+"</div>"),l++}opt0ac0098b.maxID=l,d=document.getElementsByClassName("htSlide"),i!="splash"?($("#smGameNext").length==0?($(opt0ac0098b.target).append('<div id="smGameNext"><i class="fa-solid fa-chevron-right htSlideNextGame" onclick="htPlusSMGameDivs(1);"></i></div> <div id="smGamePrev"><i class="fa-solid fa-chevron-left htSlidePrevGame htSlideGameMenuHidden" onclick="htPlusSMGameDivs(-1);"></i></div> <div id="smGameLike"><i class="fa-solid fa-thumbs-up htSlideLikeGame" onclick="htSMCheckAnswer(1);"></i></div> <div id="smGameUnlike"><i class="fa-solid fa-thumbs-down htSlideUnlikeGame" onclick="htSMCheckAnswer(0);"></i></div>'),$("#smGameLike").addClass("htSlideGameMenuHidden"),$("#smGameUnlike").addClass("htSlideGameMenuHidden"),$("#currentSMScore").html(totalSMScore)):($("#smGameNext").removeClass("htSlideGameMenuHidden"),$("#smGamePrev").removeClass("htSlideGameMenuHidden")),$("#smGameMenu").addClass("htSlideGameMenuHidden"),$("#smGameScore").hasClass("htSlideGameMenuHidden")&&$("#smGameScore").removeClass("htSlideGameMenuHidden"),htShowSlideDivs(d,0)):smGameTimeoutID!=0&&(clearTimeout(smGameTimeoutID),smGameTimeoutID=0),$("table").each(function(){$(this).hasClass("book_navigation")||$(this).addClass("three_table_bg")})}function htModifyAtlasIndexMap(e){if(!e)return;$("#atlasindex option[value="+e+"]").prop("selected",!0);var t="index.html?page=atlas&atlas_page="+e;window.history.replaceState(null,null,t),$("#atlas").val(e),$("#atlasindex").val(e)}function htFormatText(e,t,n){if(t=="html")return e;var s,i,o=new showdown.Converter;return(n!=null&&n==!0||n==1)&&o.setOption("tables",!0),s=o.makeHtml(e),s.length<4?s:(i=s.substring(s.length-4),i=="</p>"?s.substring(0,s.length-4):s)}function htSelectAtlasMap(e){if(!e||e.length==0)return;var n,o,i,a,r,c,l,d,t=htAtlas.get(e),s="";t.author&&(t.author=="HTMW"||t.author.length==0?s=keywords[82]:s=t.author),n=t.text,(t.format==void 0||t.format=="html")&&(n="<p>"+n+"</p>"),o="&nbsp;",t.prev&&(i=htAtlas.get(t.prev),i&&(o=i.name)),a="&nbsp;",t.next&&(r=htAtlas.get(t.next),r&&(a=r.name)),c=t.image.length>0?'<p class="desc"><img id="atlasimg" src="'+t.image+`" class="imgcenter" onclick="htImageZoom('atlasimg', '-35%')" />`+keywords[81]+" 1: "+s+".</p>"+n:n,l=t.prev?`<a href="javascript:void(0);" onclick="htSelectAtlasMap('`+t.prev+"'); htModifyAtlasIndexMap('"+t.prev+`');">`+o+"</a>":"&nbsp;",d=t.next?`<a href="javascript:void(0);" onclick="htSelectAtlasMap('`+t.next+"'); htModifyAtlasIndexMap('"+t.next+`');">`+a+"</a>":"&nbsp;",c+='<p><hr /></p><p><div style="width: 50%; float: left; font-weight: bold;">'+keywords[56]+"<br />"+l+'</div><div style="width: 50%; float: right; font-weight: bold; text-align: right;">'+keywords[58]+"<br />"+d+"</div></p><p>&nbsp;</p>",$("#rightcontent").html(c)}function htFillAtlas(e){if(e.atlas.length==0)return;htAtlas.clear();var t,n,s,o,a,c,l,d,u,h,m,f,r=e.atlas;const g=$("#site_language").val(),p=$("#site_calendar").val();c="",s=void 0,n=$("#atlas").val();for(i in r){t=r[i],i==0?(c=t.uuid,n.length==0&&($("#atlas").val(t.uuid),n=t.uuid)):(a=htAtlas.get(s),a&&(a.next=t.uuid)),o="";for(const e in t.text)u=t.text[e],o+=htParagraphFromObject(u,g,p);h=t.author!=void 0&&t.author.length>0?t.author:null,m=t.isTable!=void 0&&t.isTable,l=t.format!=void 0?t.format:"html",htAtlas.set(t.uuid,{name:t.index,image:t.image,author:h,text:o,format:l,isTable:m,prev:s,next:void 0}),d=parseInt(i)+1,f=new Option(d+". "+t.index,t.uuid),$("#atlasindex").append(f),s=t.uuid}htModifyAtlasIndexMap(n),htSelectAtlasMap(n)}function htProccessData(e){if(e.type==void 0)return!1;switch(e.type){case"sm_game":htFillSMGameData(e);break}e.date_time!=void 0&&e.date_time.constructor===vectorConstructor?htFillHTDate(e.date_time):e.fill_dates!=void 0&&e.fill_dates.constructor===vectorConstructor&&htFillHTDate(e.fill_dates),$("#family_common_sn").length>0&&$("#family_common_sn").html(keywords[52])}function htOnlyLoadHtml(e,t,n,s){primarySourceMap.clear(),refSourceMap.clear(),holyRefSourceMap.clear(),smSourceMap.clear();var o=e.length==0?"&":e+"&";$("#page_data").load("bodies/"+t+"."+n+"?load="+o+"nocache="+s)}function htLoadPageV1(e,t,n,s,o,i){$("#messages").html("&nbsp;"),extLatexIdx=0,$("#loading_msg").show(),$("#header").removeClass(),$("#header").removeAttr("style"),$("#header").addClass("top-bar-inside-left");var a=htLoadPageMountURL(e,n,o),r=Date.now();$.ajax({type:"GET",url:a,contentType:"application/json; charset=utf-8",data:"nocache="+r,async:!0,dataType:"json",success:function(t){return t.length==0?($("#loading_msg").hide(),!1):t.version!=void 0&&t.version!=null&&(htIsIndexLoaded(t.index)==!1&&htLoadIndex(t,n,e),htLoadSources(t,n,e),htProccessData(t,i),n!=source&&htEnableEdition(),!1)}})}function htCallFillPIXQRCode(){$("#htPixQRCode").length>0&&htFillPIXQRCode("#htPixQRCode","10%"),$("#htPixSideQRCode").length>0&&htFillPIXQRCode("#htPixSideQRCode","25%")}function htLoadPage(e,t,n,s){if($("#messages").html("&nbsp;"),$("#ht_index_latex").append(""),extLatexIdx=0,t=="html"){switch(e){case"tree":case"genealogical_map_list":case"class_content":s==!0&&lastTreeLoaded.arg!=null&&lastTreeLoaded.arg.length>0?n=lastTreeLoaded.arg:(lastTreeLoaded.page=e,lastTreeLoaded.arg=n);var o,i,a,r,c=n!=null?"index.html?page="+e+"&arg="+n:"index.html?page="+e;genealogicalStats=htResetGenealogicalStats(),window.history.replaceState(null,null,c);break;case"families":lastTreeLoaded.page=null,lastTreeLoaded.arg=null,$("#loading").val(""),$("#selector").val("");default:window.history.replaceState(null,null,"index.html?page="+e);break}$("#tree-source").html(""),$("#tree-ref").html(""),$("#tree-holy-ref").html(""),$("#header").removeClass(),$("#header").removeAttr("style"),$("#header").addClass("top-bar-inside-left")}return o=n.split("&person_id="),i="",o.length!=2?$("#loading").val(n):(i=o[0],t=="html"&&($("#loading").val(o[0]),$("#selector").val(o[1]))),t.length!=null&&t.length>0&&t=="html"&&$("#html_loaded").val(e),a=Date.now(),t==="html"?(htOnlyLoadHtml(i,e,t,a),!1):(r=htLoadPageMountURL(e,n,""),$("#loading_msg").show(),$.ajax({type:"GET",url:r,contentType:"application/json; charset=utf-8",data:"nocache="+a,async:!0,dataType:"json",success:function(t){return t.length==0?($("#loading_msg").hide(),!1):(htLoadIndex(t,n,e),htLoadSources(t,n,e),htFillWebPage(e,t),htCallFillPIXQRCode(),!1)}}),!1)}function htFillClassWithText(e,t){$(e).each(function(){$(this).html(t)})}function htDetectLanguage(){var t,n,e=navigator.language||navigator.userLanguage;return e==null||e.length==0?e="en-US":(t=e.substring(0,2).toLowerCase(),$("#site_language option[value='"+e+"']").length>0==!1&&(t=="pt"?e="pt-BR":t=="es"?e="es-ES":e="en-US"),n=e.substring(3).toUpperCase(),t=e.substring(0,2).toLowerCase(),e=t+"-"+n),e}function htMountSpecificDate(e,t,n){var s="";if(!e||typeof e!="object")return console.warn("htMountSpecificDate: Invalid dateObj parameter"),s;switch(e.type){case"gregory":e.day>0?s=htConvertGregorianDate(n,t,e.year,e.month,e.day):s=htConvertGregorianYear(n,e.year);break;case"unix":s=htConvertUnixDate(n,t,e.epoch);break;case"julian":s=htConvertJulianDate(n,t,e.day);break}return s}function htFillHTDate(e){const n=$("#site_language").val(),s=$("#site_calendar").val();var t=0;$(".htdate").each(function(){if(t>=e.length)return!1;var i,o=e[t++];if(!o||typeof o!="object")return console.warn(`htFillHTDate: Invalid date object at index ${index}`),!0;i=htMountSpecificDate(o,n,s),$(this).html(i)})}function htFillStringOnPage(e,t,n){const s=e.content?.[t];if(!s)return;const d=$("#site_language").val(),c=$("#site_calendar").val(),i=s.html_value&&s.html_value.length>0,l=s.date_time!==void 0,r=i?l?htOverwriteHTDateWithText(s.html_value,s.date_time,d,c):s.html_value:"";if(s.id==="date_time"){htFillHTDate(s.text);return}if(i&&!s.target){$("#"+s.id).append(r);return}let o="";if(i)o=r;else if(s.value!==void 0)o=s.value;else return;const a=$("#"+s.id);if(a.length>0){a.html(o);return}const u=["families","history","literature","first_steps","indigenous_who","myths_believes","math_games","historical_events","biology","physics","chemistry"];u.includes(n)&&s.target&&$("#group-map").append(`<ul>
                <b><span id="${s.id}">${o}</span></b>
                <ol id="${s.target}"></ol>
            </ul><br />`)}function htFillWebPage(e,t){if(t?.title?.length&&$(document).prop("title",t.title),t?.header?.length)$("#header").html(t.header);else if(t?.nothing?.length){$(document).prop("title",t.nothing),$("#header").html(t.nothing);return}if(t?.common?.length){const e=$("#site_language").val(),n=$("#site_calendar").val();t.common.forEach(t=>{const s=typeof t=="string"?t:htParagraphFromObject(t,e,n);$("#common").append(s)})}const n=t?.last_update??0;let s=keywords.length>34?keywords[35]:"Editors of History Tracers",o=keywords.length>36?keywords[37]:"Reviewers of History Tracers";if(t?.authors?.length&&(s=t.authors),t?.reviewers?.length&&(o=t.reviewers),$("#extpaper").length&&n>0&&htFillDivAuthorsContent("#extpaper",n,s,o),$("#htaudio").length&&t?.audio&&htAddAudio(t.audio),t?.languages){htUpdateIndexSelector(t.languages,"#site_language"),$("#loading_msg").hide(),$(":focus").blur();return}if(t?.lang_list){htUpdateAvailableLanguages(t.lang_list);return}if(t?.calendars){htUpdateIndexSelector(t.calendars,"#site_calendar"),$("#loading_msg").hide(),$(":focus").blur();return}if(t?.themes&&(htUpdateIndexSelector(t.themes,"#site_theme"),t.themes.forEach(e=>{$("#"+e.dir).html(e.text)})),t?.families)htFillFamilies(e,t);else if(t?.keywords)htFillKeywords(t.keywords),$("#loading_msg").hide();else if(t?.math_keywords)htFillMathKeywords(t.math_keywords),$("#loading_msg").hide();else if(t?.type&&t.version==2){if(t.type=="class")htFillClassContentV2(t,n,s,o,t.index);else if(t.type=="atlas")htFillClassContentV2(t,n,s,o,null),t.atlas!=void 0&&htFillAtlas(t);else if(t.type=="index")for(const n in t.content)t.content[n].value==void 0||t.content[n].value==null?htFillStringOnPage(t,n,e):t.content[n].value_type=="group-list"?(t.content[n].id!=void 0&&t.content[n].id!=null&&t.content[n].id.length>0&&t.content[n].desc!=void 0&&t.content[n].desc.length>0&&$("#"+t.content[n].id).html(t.content[n].desc),htFillGroupList(t.content[n].value,t.content[n].target,t.content[n].page,t.content[n].date_time)):t.content[n].value_type=="mixed-group-list"&&htFillMixedMapList(t.content[n].value,t.content[n].target,t.content[n].date_time)}else{if((t.gedcom!=void 0||t.csv!=void 0)&&$("#files").length>0){var a,i=keywords[108]+"<p><ul>";t.csv!=void 0&&(i+='<li><a href="'+t.csv+'" target="_blank">CSV</a>: '+keywords[109]+"</li>"),t.gedcom!=void 0&&(i+='<li><a href="'+t.gedcom+'" target="_blank">GEDCOM</a>: '+keywords[110]+"</li>"),i+="</ul></p>"+keywords[111],$("#files").html(i)}for(const n in t.content){if(t.content[n].value==void 0||t.content[n].value==null){htFillStringOnPage(t,n,e);continue}if(t.content[n].value.constructor===stringConstructor)htFillStringOnPage(t,n,e);else if(t.content[n].value.constructor===vectorConstructor&&t.content[n].target!=void 0){if(t.content[n].value_type==void 0)continue;t.content[n].value_type=="family-list"?(a=t.content[n].value,htFillFamilyList(a,t.content[n].target)):t.content[n].value_type=="group-list"?(t.content[n].id!=void 0&&t.content[n].id!=null&&t.content[n].id.length>0&&t.content[n].desc!=void 0&&t.content[n].desc.length>0&&$("#"+t.content[n].id).html(t.content[n].desc),htFillGroupList(t.content[n].value,t.content[n].target,t.content[n].page,t.content[n].date_time)):t.content[n].value_type=="subgroup"&&htFillSubMapList(t.content[n].value,t.content[n].target)}else if(t.content[n].value.constructor===vectorConstructor&&t.content[n].id!=void 0)if(t.content[n].id!="date_time")for(const e in t.content[n].value)$("#"+t.content[n].id).append(t.content[n].value[e]);else t.content[n].value.constructor===vectorConstructor&&htFillHTDate(t.content[n].value)}t.date_time!=void 0&&htFillHTDate(t.date_time),$("#tree-sources-lbl").length>0&&$("#tree-sources-lbl").html(keywords[5]),$("#tree-references-lbl").length>0&&$("#tree-references-lbl").html(keywords[6]),$("#tree-holy_references-lbl").length>0&&$("#tree-holy_references-lbl").html(keywords[7]),$("#tree-sm-lbl").length>0&&$("#tree-sm-lbl").html(keywords[75]),$("#tree-description").length>0&&$("#tree-description").html(" <p>"+keywords[52]+"</p>")}t?.scripts?.length&&t.scripts.forEach(e=>{const t=`js/${e}.js`;$.getScript(t,()=>{typeof htLoadContent!="undefined"&&htLoadContent(),typeof htLoadExercise!="undefined"&&htLoadExercise(),$("#btncheck").off("click").on("click",e=>{e.preventDefault(),typeof htCheckAnswers!="undefined"&&htCheckAnswers()}),$("#btnnew").off("click").on("click",e=>{e.preventDefault(),typeof htLoadExercise!="undefined"&&htLoadExercise()})})}),htFillClassWithText(".htPrevText",keywords[56]),htFillClassWithText(".htTopText",keywords[57]),htFillClassWithText(".htNextText",keywords[58]),htFillClassWithText(".htIndexText",keywords[60]);const r={"#family_common_sn":52,"#htZoomImageMsg":84,"#htChartMsg":112,"#htAmericaAbyaYalaMsg":85,"#htAgeMsg":131,"#htImgCopyright":83};for(const[e,t]of Object.entries(r))$(e).length&&htAddTreeReflection(e,t);if(!$("#tree-common-stats").length)return!1;const c=["#tree-common-stats","#statsDescription","#genStatRow00","#genStatRow01","#genStatRow10","#genStatRow20","#genStatRow30","#genStatRow40","#genStatRow50","#genStatRow60","#genStatRow70"],l=[61,62,63,64,5,6,7,65,66,67,68,69];c.forEach((e,t)=>{$(e).html(keywords[l[t]])});const d=["#genStatRow11","#genStatRow21","#genStatRow31","#genStatRow41","#genStatRow51","#genStatRow61","#genStatRow71"];Object.values(genealogicalStats).forEach((e,t)=>{$(d[t]).html(e)})}function htUpdateLoadedIdx(e){loadedIdx.includes(e)||loadedIdx.push(e)}function htIsIndexLoaded(e){if(e==null)return!0;const t=Array.isArray(e)?e:typeof e=="string"?[e]:null;return!!t&&t.every(e=>{const t=htSelectIndexMap(e);return t&&Object.keys(t).length>0})}function htFillTopIdx(e,t,n){htUpdateLoadedIdx(n);const h=$("#site_language").val(),m=$("#site_calendar").val();let d=n;e.set(n,{prev:n,next:void 0,name:keywords[57],additional:void 0,total:0});for(const p in t.content){if(t.content[p].html_value!=void 0&&t.content[p].html_value.length>0||t.content[p].value.constructor!==vectorConstructor||t.content[p].page==void 0)continue;var s,i,a,r,c,l,u,o=t.content[p].value,f="";for(const f in o)l=e.get(d),s="",r=void 0,i=void 0,o[f].id.length>0?(s=o[f].id,i=e.get(s)):o[f].family_id.length&&(s=o[f].family_id,i=e.get(s),o[f].person_id.length?r=o[f].person_id:r="1"),c=0,i!=null&&(c=i.total+1,s+=":"+c),l!=null&&(l.next=s),a=o[f].name,n=="families"&&(u=a.search("\\(<htdate"),u>0&&t.content[p].date_time!=void 0&&(a=htOverwriteHTDateWithText(a,t.content[p].date_time,h,m))),e.set(s,{prev:d,next:void 0,name:a,additional:r,total:c}),d=s}}function htLoadIndex(e,t,n){if(e!=null&&e.index!=void 0&&e.index.constructor===vectorConstructor){for(const s in e.index){var o,i,a={index:e.index[s]};htLoadIndex(a,t,n)}return}const s={biology:htBiologyIdx,chemistry:htChemicalIdx,families:htFamilyIdx,first_steps:htFirstStepsIdx,history:htHistoryIdx,historical_events:htHistoricalEventsIdx,indigenous_who:htIndigenousWhoIdx,literature:htLiteratureIdx,math_games:htMathGamesIdx,myths_believes:htMythsBelievesIdx,physics:htPhysicsIdx};if(n&&s[n]&&!s[n].has(n)){htFillTopIdx(s[n],e,n);return}if(!e.index)return;o=htLoadPageMountURL(e.index,e.index,""),i=Date.now(),$.ajax({type:"GET",url:o,contentType:"application/json; charset=utf-8",data:"nocache="+i,async:!0,dataType:"json",success:function(n){return n.length!=0&&(htIsIndexLoaded(e.index)==!1&&htLoadIndex(n,t,e.index),!1)}})}function htHandleSpecialItem(e){const t={date_time:!0,fill_dates:!0};e.id&&t[e.id]&&e.text&&e.text.constructor===vectorConstructor&&htFillHTDate(e.text)}function htFillFamilyList(e){if(!Array.isArray(e))return;const s=$("#site_language").val(),o=$("#site_calendar").val();for(const i in e){const t=e[i];if(t.target==void 0){htHandleSpecialItem(t);continue}if($("#"+t.target).append('<div id="bottom'+t.id+'"><h3>'+t.id+"</h3></div>"),t.value.constructor===vectorConstructor){var n=t.value;$("#bottom"+t.id).append('<ul id="bottomList'+t.id+'"></ul>');for(const e in n)$("#bottomList"+t.id).append('<li id="'+n[e].id+'"><a href="index.html?page=tree&arg='+n[e].id+"&lang="+s+"&cal="+o+`" onclick="htLoadPage('tree', 'html', '`+n[e].id+`', false); return false;" >`+n[e].value+"</a></li>")}}}function htCheckExerciseAnswer(e,t,n,s){const a=parseInt($("input[name="+e+"]:checked").val());var i="",o="";return a==t?(i=keywords[27],o="green"):(i=keywords[28],o="red"),$(n).length>0&&$(n).text(i).css("color",o),$(s).length>0&&$(s).css("color",o).css("display","block").css("visibility","visible"),!1}function htWriteQuestions(e,t,n){var o="<p><h3>"+keywords[50]+"</h3><ol>",i='<p class="ht_description"><span id="htAnswersToBeUsed">',s=0;for(const t in e){let n=e[t];o+="<li>"+n.question+' <input type="radio" id="ans'+t+'yes" name="exercise'+t+'" value="1" /> <b><label>'+keywords[31]+'</label></b> <input type="radio" id="ans'+t+'no" name="exercise'+t+'" value="0" /> <b><label>'+keywords[32]+'</label></b>. <span class="ht_description" id="explanation'+t+'"><span id="answer'+t+'"></span> '+n.additionalInfo+"</span></li>",i+=n.yesNoAnswer=="Yes"?1+";":0+";",s=t}s>0&&s++,o+='</ol><input id="btncheck" type="button" onclick="return false;" value="'+keywords[29]+'" /> <input id="btnnew" type="button" onclick="return false;" value="'+keywords[30]+'" /></p>',i+='</span><span id="htTotalQuestions">'+s+"</span></p>",htAddPaperDivs("#paper","exercises0",o,"",t,n),htAddPaperDivs("#paper","exercises1",i,"",t,n+1e3)}function htLoadAnswersFromExercise(){var t,s,n=[];const e=parseInt($("#htTotalQuestions").html());if(!e)return e;if(t=$("#htAnswersToBeUsed").html(),t==null)return e;s=t.split(";");for(let t=0;t<e;t++)n.push(parseInt(s[t]));return $("#htAnswersToBeUsed").html(""),n}function htWriteGame(e,t,n){const a=$("#site_language").val(),r=$("#site_calendar").val();var s,o='<p class="ht_description"><span id="htGameDataToBeUsed">',i=0;for(const n in e){let t=e[n];if(s=t.imageDesc,t.date_time){localDate=t.date_time;for(const e in localDate)s=s.replace("<htdate"+e+">",htMountSpecificDate(localDate[e],a,r))}o+=s+"|",i++}o+='</span><span id="htTotalGameData">'+i+"</span></p>",htAddPaperDivs("#paper","game1",o,"",t,n+1e3)}function htLoadGameData(){var t,s,n=[],o='<p class="ht_description"><span id="htGameDataToBeUsed">',e=parseInt($("#htTotalGameData").html());if(!e)return e;if(t=$("#htGameDataToBeUsed").html(),!t)return e;s=t.split("|");for(let t=0;t<e;t++)n.push({imageDesc:s[t]});return $("#htAnswersToBeUsed").html(""),n}function htGetRandomArbitrary(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}function htInsertNumberField(e,t,n){return'<div class="number-input" id="'+e+'"><i class="fa-solid fa-caret-down downArrowWithFA" name="numberDown'+e+'"></i><input id="numberField'+e+'" type="number" min="'+t+'" max="'+n+'" readonly /><i class="fa-solid fa-caret-up upArrowWithFA" name="numberUp'+e+'"></i></div>'}function htShowSlideDivs(e,t){if(e==null)return;for(let t=0;t<e.length;t++)e[t].style.display="none";e[t].style.display="block"}function htShowSlideDivsAuto(e,t,n){if(e==null)return;for(let t=0;t<e.length;t++)e[t].style.display="none";return e[t].style.display="block",++t,n==!0&&t==e.length?0:(t==e.length?t=0:t<0&&(t=e.length-1),setTimeout(()=>{smGameTimeoutID=htShowSlideDivsAuto(e,t,n)},6e3))}function htAddAlterQImages(e){var t=["<i>Popol Hol</i> (2), <i>Yax K'uk' Mo'</i> (1),<br /> <i>Yax Pasaj Chan Yopaat</i> (16), <i>K'ahk' Yipyaj Chan K'awiil</i> (15)","? (6), ? (5),<br /> <i>K'altuun Hix</i> (4), ? (3)","<i>Moon Jaguar</i> (10), ? (9),<br /> <i>Wi' Yohl K'inich</i> (8), <i>Bahlam Nehn</i> (7)","- <i>K'ahk' Joplaj Chan K'awiil</i> (14), <i>Waxaklajuun Ubaah K'awiil</i> (13),<br /> <i>K'ahk' Uti' Witz K'awiil</i> (12), <i>Butz' Chan</i> (11)"];$(e).html("");for(let n=0;n<4;n++)$(e).append('<div class="htSlide"> <div class="htSlideCounter">'+(n+1)+' / 4</div> <img class="imgGameSize" src="images/Copan/CopanAltarGenealogy'+n+'.jpg" id="imgCopan'+n+`" onclick="htImageZoom('imgCopan`+n+`', '0%')"><div class="htSlideCaption">`+t[n]+"</div></div>");$(e).append('<i class="fa-solid fa-chevron-left htSlidePrev" onclick="htPlusDivs(-1);"></i> <i class="fa-solid fa-chevron-right htSlideNext" onclick="htPlusDivs(1);"></i>')}