#!/usr/bin/make -f

%:
	dh $@

# DISABLE ALL auto steps
override_dh_auto_configure:
	@echo "Skipping configure"

override_dh_auto_build:
	@echo "Skipping build"

override_dh_auto_install:
	@echo "Skipping auto-install - using manual installation"

override_dh_auto_test:
	@echo "Skipping tests"

# Your manual installation
override_dh_installdocs:
	install -D -m 755 $(CURDIR)/build/historytracers debian/historytracers/usr/bin/historytracers
	install -D -m 644 $(CURDIR)/packaging/service/historytracers.service debian/historytracers/lib/systemd/system/historytracers.service
	install -D -m 600 $(CURDIR)/packaging/conf/historytracers.conf debian/historytracers/etc/historytracers/historytracers.conf || true
	install -d debian/historytracers/usr/share/historytracers/www/
	cp -r $(CURDIR)/www/ debian/historytracers/usr/share/historytracers/www/ 2>/dev/null || true
