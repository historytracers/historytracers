#!/usr/bin/make -f

%:
	dh $@ --without=install

# DISABLE ALL auto steps
override_dh_auto_configure:
	@echo "Skipping configure"

override_dh_auto_build:
	@echo "Skipping build"

override_dh_auto_install:
	@echo "Skipping auto-install - using debhelper installation"

override_dh_auto_test:
	@echo "Skipping tests"

override_dh_auto_clean:
	@echo "Skipping auto-clean - preserving pre-built binaries"

override_dh_install:
	install -D -m 755 $(CURDIR)/build/historytracers debian/historytracers/usr/bin/historytracers
	install -D -m 644 $(CURDIR)/packaging/service/historytracers.service debian/historytracers/lib/systemd/system/historytracers.service
	install -D -m 600 $(CURDIR)/packaging/conf/historytracers.conf debian/historytracers/etc/historytracers/historytracers.conf 2>/dev/null || true
	install -d debian/historytracers/usr/share/historytracers/www/
	cp -r $(CURDIR)/www/* debian/historytracers/usr/share/historytracers/www/ 2>/dev/null || true
